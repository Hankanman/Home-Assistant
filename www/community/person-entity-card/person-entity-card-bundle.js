(function(){"use strict";function b(a,b){return b||(b=a.slice(0)),Object.freeze(Object.defineProperties(a,{raw:{value:Object.freeze(b)}}))}function c(a,b){var c=Object.keys(a);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(a);b&&(d=d.filter(function(b){return Object.getOwnPropertyDescriptor(a,b).enumerable})),c.push.apply(c,d)}return c}function d(a){for(var b,d=1;d<arguments.length;d++)b=null==arguments[d]?{}:arguments[d],d%2?c(Object(b),!0).forEach(function(c){e(a,c,b[c])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(b)):c(Object(b)).forEach(function(c){Object.defineProperty(a,c,Object.getOwnPropertyDescriptor(b,c))});return a}function e(a,b,c){return b in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a}var f,g,h,i,j;(()=>{var a=window.LitElement||Object.getPrototypeOf(customElements.get("ha-panel-lovelace")||customElements.get("hc-lovelace")),{html:k,css:c}=a.prototype;customElements.define("person-entity-card",class extends a{static get properties(){return{hass:{},config:{}}}handleTap(a,b){((b,c,e,f)=>{var g;switch(f.action){case"more-info":g=new Event("hass-more-info",{composed:!0}),g.detail={entityId:f.entity||e.entity},b.dispatchEvent(g);break;case"navigate":if(!f.navigation_path)return;history.pushState(null,"",f.navigation_path),g=new Event("location-changed",{composed:!0}),g.detail={replace:!1},window.dispatchEvent(g);break;case"call-service":if(!f.service)return;var[a,i]=f.service.split(".",2),h=d({},f.service_data);c.callService(a,i,h);}})(this,this._hass,this.config,{action:"more-info",entity:b})}setConfig(a){if(!a.entities)throw new Error("You need to define entities");this.config=a}_toggle(a){var{entity_id:b}=a;this.hass.callService("homeassistant","toggle",{entity_id:b})}static get styles(){return c(f||(f=b(["\n      ha-card {\n        background: none;\n        border: none;\n        box-shadow: none;\n        font-family: inherit, Inter, -apple-system, BlinkMacSystemFont,\n          \"Segoe UI\", Roboto, Oxygen, Ubuntu, Cantarell, \"Open Sans\", sans-serif;\n        padding-left: 0.5rem;\n        padding-right: 0.5rem;\n      }\n\n      .person-entity-title {\n        font-size: 0.9375rem;\n      }\n\n      .person-entity {\n        display: flex;\n        gap: 1rem;\n      }\n\n      .person-entity--centered > .person-entity {\n        justify-content: center;\n      }\n\n      .person-entity--centered > .person-entity-title {\n        text-align: center;\n      }\n\n      .person-entity-chip {\n        align-items: center;\n        background-color: var(--card-background-color);\n        border: thin solid var(--primary-color);\n        border-radius: 1.5625rem;\n        cursor: pointer;\n        display: flex;\n        font-weight: bold;\n        height: 2.5rem;\n        justify-content: flex-start;\n        line-height: 2.5rem;\n        padding: 0 1rem 0 1px;\n        overflow: hidden;\n        width: auto;\n      }\n\n      .person-entity-chip > img {\n        border-radius: 100%;\n        height: auto;\n        margin-right: 1rem;\n        width: 2.3125rem;\n      }\n    "])))}renderTitle(a){return""===a?"":k(g||(g=b(["\n        <p class='person-entity-title'><strong>","</strong></p>\n      "])),a)}renderPeople(a){var c=Object.keys(a),{language:d,resources:e}=this.hass,{showAtHome:f}=this.config,g=e[d];return k(h||(h=b(["\n      ","\n    "])),c.map(c=>("home"!==a[c].state||f)&&"unknown"!==a[c].state?k(i||(i=b(["\n              <div\n                class='person-entity-chip'\n                @click=","\n              >\n                <img src='","' />\n                ","\n              </div>\n            "])),a=>this.handleTap(a,c),a[c].attributes.entity_picture,"home"===a[c].state||"not_home"===a[c].state?g["component.person.state._.".concat(a[c].state)]:a[c].state):""))}render(){var{hass:d}=this,{centered:g=!1,entities:e,showAtHome:h=!1,title:f}=this.config,i=new RegExp("^(".concat(e.toString().replaceAll(",","|"),")$")),l=Object.keys(d.states).filter(a=>null!==a.match(i)).reduce((a,b)=>Object.assign(a,{[b]:d.states[b]}),{}),a=!0;return Object.keys(l).map(b=>"home"!==l[b].state||h?a=!1:""),a?"":k(j||(j=b(["\n          <ha-card class=",">\n            ","\n            <div class='person-entity'>","</div>\n          </ha-card>\n        "])),g?"person-entity--centered":"",this.renderTitle(f),this.renderPeople(l))}})})()})();
