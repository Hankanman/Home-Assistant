esphome:
  name: irb-02
  platform: ESP8266
  board: esp01_1m

# Enable logging
logger:

# Enable Home Assistant API
api:

ota:
  password: !secret esp_ota

wifi:
  ssid: !secret iot_ssid
  password: !secret iot_password

  # Enable fallback hotspot (captive portal) in case wifi connection fails
  ap:
    ssid: "Irb-01 Fallback Hotspot"
    password: "wkrExUpjSG3h"

captive_portal:

web_server:
  port: 80

remote_receiver:
  pin:
    number: GPIO05
    inverted: True
  dump: raw
  
remote_transmitter:
  pin: GPIO14
  carrier_duty_percent: 50%
  
switch:
  - platform: template
    name: Study Soundbar Power
    turn_on_action:
    - remote_transmitter.transmit_raw:
        code: [9012, -4521, 572, -564, 595, -539, 571, -564, 571, -1671, 597, -1647, 571, -1671, 571, -1671, 572, -563, 595, -1647, 572, -1670, 572, -1671, 571, -564, 571, -563, 571, -564, 569, -565, 570, -1672, 571, -564, 569, -565, 570, -1670, 572, -1671, 570, -565, 569, -565, 569, -1671, 571, -1671, 571, -1671, 571, -1671, 571, -564, 570, -564, 570, -1671, 569, -1672, 570, -565, 569, -565, 569]
  - platform: template
    name: Study Soundbar Volume Up
    turn_on_action:
      - remote_transmitter.transmit_raw:
          code: [9012, -4520, 600, -535, 573, -562, 597, -537, 573, -1669, 599, -1644, 599, -1644, 574, -1669, 574, -561, 573, -1670, 574, -1669, 574, -1670, 573, -562, 573, -561, 573, -562, 572, -562, 573, -1671, 573, -561, 573, -1671, 573, -1671, 573, -1670, 574, -1669, 574, -561, 573, -562, 573, -562, 572, -1670, 573, -562, 572, -563, 572, -562, 573, -562, 571, -1671, 573, -1670, 573, -1669, 573]
  - platform: template
    name: Study Soundbar Volume Down
    turn_on_action:
      - remote_transmitter.transmit_raw:
          code: [8975, -4559, 560, -574, 560, -574, 533, -601, 534, -1708, 560, -1683, 561, -1682, 559, -1684, 558, -576, 559, -1684, 558, -1685, 559, -1683, 535, -600, 558, -576, 558, -577, 558, -576, 558, -1684, 559, -1684, 534, -1709, 534, -1709, 559, -1683, 559, -1684, 558, -577, 535, -600, 559, -576, 558, -576, 557, -577, 558, -577, 533, -601, 558, -577, 558, -1685, 559, -1684, 559, -1685, 558]
  - platform: template
    name: Study Soundbar TV Input
    turn_on_action:
      - remote_transmitter.transmit_raw:
          code: [8999, -4526, 565, -569, 562, -572, 562, -571, 562, -1679, 564, -1677, 563, -1678, 563, -1678, 563, -570, 564, -1678, 563, -1678, 563, -1677, 564, -570, 562, -572, 561, -572, 562, -572, 562, -1678, 563, -1678, 588, -1653, 562, -1679, 562, -1678, 562, -1679, 562, -572, 563, -1677, 562, -1678, 561, -573, 561, -572, 562, -575, 558, -572, 562, -571, 562, -1679, 562, -572, 562, -571, 562]
  - platform: template
    name: Study Soundbar HDMI Input
    turn_on_action:
      - remote_transmitter.transmit_raw:
          code: [8998, -4524, 587, -547, 566, -567, 566, -568, 565, -1675, 566, -1675, 567, -1674, 566, -1675, 566, -568, 565, -1676, 565, -1675, 566, -1675, 565, -568, 566, -567, 565, -568, 566, -567, 565, -1676, 565, -568, 564, -1676, 564, -569, 565, -1675, 566, -567, 564, -570, 564, -1676, 563, -570, 564, -1676, 565, -569, 563, -1677, 564, -569, 564, -1677, 564, -1677, 564, -569, 564, -1677, 564]
  - platform: template
    name: Study Soundbar NET Input
    turn_on_action:
      - remote_transmitter.transmit_raw:
          code: [8989, -4529, 562, -572, 561, -571, 560, -574, 561, -1679, 562, -1678, 561, -1679, 562, -1678, 561, -573, 560, -1680, 560, -1681, 561, -1680, 560, -574, 561, -572, 560, -574, 559, -573, 558, -1682, 562, -572, 560, -574, 559, -1681, 559, -1681, 560, -1681, 560, -1680, 559, -573, 559, -1681, 561, -1680, 560, -1680, 560, -573, 560, -573, 559, -575, 559, -574, 559, -1681, 560, -574, 559]
  - platform: template
    name: Study Soundbar BT Input
    turn_on_action:
      - remote_transmitter.transmit_raw:
          code: [8993, -4529, 561, -573, 559, -574, 559, -575, 559, -1682, 560, -1682, 559, -1682, 559, -1682, 561, -573, 559, -1682, 561, -1682, 559, -1682, 560, -574, 535, -599, 558, -576, 560, -573, 560, -1681, 559, -1683, 559, -575, 559, -575, 558, -1683, 533, -600, 559, -1683, 559, -574, 558, -576, 558, -575, 558, -1682, 560, -1682, 558, -576, 559, -1681, 559, -574, 559, -1682, 535, -1706, 559]
  - platform: template
    name: Study Soundbar Mute
    turn_on_action:
      - remote_transmitter.transmit_raw:
          code: [9008, -4517, 572, -561, 573, -561, 573, -561, 573, -1668, 574, -1668, 574, -1667, 574, -1668, 574, -560, 573, -1668, 574, -1667, 574, -1668, 574, -560, 573, -560, 574, -560, 573, -561, 573, -1668, 574, -560, 572, -561, 573, -1668, 574, -1668, 573, -1668, 573, -561, 573, -561, 572, -1669, 573, -1669, 573, -1668, 573, -561, 572, -562, 572, -561, 572, -1667, 573, -1668, 572, -561, 572]
  - platform: template
    name: Study Fan Light On
    turn_on_action:
      - remote_transmitter.transmit_raw:
          code: [1248, -434, 406, -1271, 408, -1272, 408, -7917, 1249, -433, 1247, -433, 436, -1241, 439, -1241, 438, -1242, 438, -1241, 438, -1241, 439, -1243, 1277, -403, 435, -1242, 438, -1242, 437]
  - platform: template
    name: Study Fan Light Off
    turn_on_action:
      - remote_transmitter.transmit_raw:
          code: [412, -1267, 412, -1267, 412, -1267, 413, -7914, 1255, -427, 1253, -427, 411, -1266, 413, -1267, 413, -1266, 414, -1266, 1254, -428, 437, -1240, 438, -1242, 413, -1266, 414, -1266, 413]
  - platform: template
    name: Study Fan Off
    turn_on_action:
      - remote_transmitter.transmit_raw:
          code: [1257, -423, 1256, -423, 415, -1261, 417, -1262, 416, -1262, 416, -1262, 416, -1262, 416, -1263, 416, -1261, 416, -1263, 416, -1262, 416, -7897, 1256, -423, 1255, -424, 412, -1264, 414, -1265, 413, -1265, 1253, -427, 1225, -454, 1223, -455, 1222, -457, 1192, -487, 1192, -486, 1193, -7119, 1194, -486, 1193, -486, 373, -1304, 374, -1305, 373, -1305, 374, -1304, 375, -1304, 1193, -487, 399, -1277, 401, -1278, 401, -1277, 401, -7914, 1194, -485, 1215, -464, 431, -1246, 432, -1247, 431, -1247, 432, -1246, 433, -1245, 1217, -463, 434, -1243, 436, -1243, 435, -1243, 435, -7877, 1217, -463, 1239, -439, 435, -1242, 436, -1244, 434, -1243, 436, -1242, 436, -1242, 1242, -438, 435, -1242, 436, -1242, 436, -1242, 436, -7876, 1242, -438, 1242, -437, 434, -1242, 436, -1242, 436, -1243, 459, -1219, 460, -1218, 1269, -411, 459, -1217, 461, -1218, 436, -1242, 460, -7851, 1272, -408, 1272, -407, 434, -1242, 436, -1243, 436, -1242, 436, -1242, 436, -1242, 1274, -406, 434, -1243, 436, -1242, 436, -1242, 436, -7874, 1275, -405, 1274, -405, 433, -1243, 435, -1244, 434, -1243, 435, -1243, 435, -1244, 1274, -406, 433, -1243, 435, -1244, 434, -1243, 435, -7877, 1274, -406, 1271, -407, 433, -1243, 434, -1244, 434, -1244, 434, -1244, 434, -1244, 1272, -408, 432, -1244, 434, -1244, 433, -1245, 433, -7877, 1272, -409, 1269, -409, 430, -1246, 433, -1245, 433, -1245, 433, -1245, 432, -1246, 1270, -410, 430, -1246, 431, -1247, 431, -1247, 430, -7878, 1269, -411, 1242, -437, 426, -1248, 430, -1248, 430, -1248, 429, -1249, 429, -1248, 1244, -437, 426, -1249, 429, -1249, 428, -1250, 428]
  - platform: template
    name: Study Fan Speed 1
    turn_on_action:
      - remote_transmitter.transmit_raw:
          code: [1241, -439, 1216, -462, 374, -1304, 375, -1303, 374, -1304, 375, -1303, 375, -1303, 374, -1304, 374, -1306, 372, -1306, 351, -1327, 351, -7961, 1193, -486, 1223, -455, 351, -1326, 353, -1325, 382, -1297, 1224, -455, 1249, -429, 1251, -427, 1252, -427, 1253, -425, 1254, -425, 1254, -7058, 1254, -425, 1253, -426, 413, -1263, 415, -1264, 413, -1265, 1252, -427, 410, -1268, 384, -1293, 410, -1268, 385, -1294, 1224, -455, 1193, -7121, 1194, -486, 1193, -486, 351, -1326, 352, -1326, 353, -1326, 1194, -485, 374, -1304, 374, -1304, 375, -1303, 376, -1303, 1217, -462, 1239, -7066, 1242, -437, 1243, -436, 430, -1247, 432, -1247, 432, -1246, 1269, -411, 433, -1244, 435, -1243, 435, -1243, 436, -1242, 1273, -407, 1272, -7032, 1275, -405, 1273, -406, 437, -1239, 439, -1239, 439, -1239, 1276, -404, 437, -1240, 438, -1240, 437, -1240, 438, -1241, 1276, -403, 1276, -7026, 1278, -402, 1276, -402, 436, -1241, 436, -1241, 437, -1242, 1278, -401, 434, -1242, 436, -1241, 437, -1241, 436, -1243, 1280, -400, 1279, -7023, 1281, -400, 1278, -400, 408, -1268, 410, -1268, 410, -1267, 1281, -400, 408, -1268, 410, -1268, 410, -1268, 410, -1268, 1280, -401, 1278, -7025, 1280, -401, 1277, -402, 407, -1268, 411, -1268, 410, -1268, 1280, -401, 408, -1268, 410, -1268, 410, -1268, 409, -1269, 1280, -401, 1300, -7003, 1280, -401, 1277, -402, 431, -1244, 434, -1244, 434, -1244, 1303, -378, 432, -1243, 435, -1243, 435, -1243, 435, -1243, 1279, -402, 1277, -7026, 1279, -402, 1276, -403, 432, -1243, 436, -1243, 435, -1243, 1278, -402, 433, -1243, 435, -1243, 435, -1243, 435, -1243, 1277, -403, 1275]
  - platform: template
    name: Study Fan Speed 2
    turn_on_action:
      - remote_transmitter.transmit_raw:
          code: [1223, -457, 1192, -487, 396, -1281, 374, -1304, 375, -1303, 375, -1303, 398, -1281, 399, -1278, 400, -1279, 401, -1277, 401, -1277, 426, -7885, 1193, -487, 1192, -487, 429, -1248, 430, -1247, 431, -1246, 1194, -486, 1192, -487, 1214, -464, 1215, -464, 1214, -465, 1214, -464, 1215, -7097, 1217, -464, 1216, -463, 430, -1246, 431, -1247, 432, -1246, 432, -1247, 431, -1247, 431, -1247, 432, -1247, 1241, -439, 431, -1245, 433, -7882, 1242, -438, 1242, -437, 431, -1246, 432, -1246, 432, -1247, 432, -1246, 432, -1247, 432, -1248, 430, -1246, 1245, -436, 431, -1245, 433, -7880, 1245, -436, 1268, -411, 431, -1246, 433, -1245, 433, -1246, 432, -1246, 433, -1246, 433, -1245, 433, -1246, 1270, -410, 434, -1243, 432, -7880, 1270, -411, 1267, -412, 430, -1246, 432, -1247, 431, -1247, 432, -1246, 432, -1247, 431, -1247, 431, -1247, 1245, -436, 428, -1249, 429, -7882, 1244, -436, 1243, -437, 426, -1250, 429, -1249, 429, -1250, 429, -1249, 429, -1249, 429, -1250, 429, -1249, 1244, -437, 426, -1250, 428, -7883, 1243, -438, 1240, -439, 424, -1251, 403, -1276, 427, -1252, 402, -1276, 402, -1276, 403, -1275, 403, -1276, 1218, -462, 400, -1276, 403, -7909, 1218, -463, 1216, -464, 398, -1278, 401, -1277, 402, -1276, 402, -1277, 401, -1278, 401, -1277, 401, -1278, 1218, -463, 398, -1278, 400]
  - platform: template
    name: Study Fan Speed 3
    turn_on_action:
      - remote_transmitter.transmit_raw:
          code: [1217, -463, 1193, -488, 398, -1277, 401, -1278, 401, -1277, 401, -1278, 399, -1279, 400, -1278, 400, -1278, 400, -1278, 400, -1278, 401, -7913, 1193, -487, 1192, -488, 372, -1303, 375, -1304, 400, -1278, 1193, -488, 1191, -488, 1191, -487, 1192, -486, 1192, -488, 1191, -487, 1192, -7120, 1194, -487, 1191, -487, 349, -1327, 351, -1326, 352, -1326, 352, -1327, 351, -1326, 352, -1326, 351, -1327, 351, -1326, 352, -1327, 1219, -7095, 1193, -486, 1219, -460, 349, -1327, 351, -1327, 351, -1327, 351, -1327, 350, -1327, 351, -1326, 352, -1327, 350, -1327, 351, -1328, 1220, -7092, 1220, -461, 1219, -459, 349, -1326, 352, -1327, 351, -1327, 351, -1327, 351, -1327, 351, -1327, 351, -1326, 351, -1327, 351, -1327, 1222, -7092, 1222, -459, 1220, -458, 376, -1301, 377, -1301, 377, -1301, 378, -1300, 378, -1300, 377, -1301, 378, -1300, 378, -1300, 378, -1300, 1223, -7090, 1223, -458, 1245, -433, 378, -1299, 379, -1299, 380, -1298, 380, -1299, 380, -1298, 380, -1299, 380, -1298, 380, -1299, 379, -1299, 1248, -7067, 1249, -431, 1247, -432, 379, -1298, 380, -1298, 380, -1298, 380, -1298, 381, -1298, 381, -1297, 381, -1297, 381, -1298, 380, -1297, 1250, -7065, 1249, -432, 1247, -431, 404, -1273, 405, -1273, 406, -1272, 406, -1272, 406, -1273, 405, -1273, 405, -1273, 406, -1272, 406, -1272, 1250]